(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["deals"],{"1ace":function(e,t,c){"use strict";c("8e33")},"21cc":function(e,t,c){"use strict";c.r(t);var n=c("7a23"),a=function(e){return Object(n["y"])("data-v-9ac2492e"),e=e(),Object(n["w"])(),e},r={id:"main",class:"main"},i={class:"main-top"},o=a((function(){return Object(n["g"])("div",{class:"title"},"Deals",-1)})),l={class:"categories"},s=["item","index"],u={key:0,style:{"text-align":"center"}},b={class:"loading"},f=a((function(){return Object(n["g"])("span",{class:"fa fa-spinner fa-spin"},null,-1)})),d=Object(n["i"])(" Loading "),j=[f,d],O={key:1,style:{"text-align":"center"}},p=a((function(){return Object(n["g"])("h3",null,"Something went wrong",-1)})),v=[p];function g(e,t,c,a,f,d){var p=Object(n["C"])("search-box"),g=Object(n["C"])("app-filter"),m=Object(n["C"])("deal-item"),h=Object(n["C"])("Spinner"),y=Object(n["C"])("infinite-loading");return Object(n["v"])(),Object(n["f"])("div",r,[Object(n["g"])("div",i,[o,Object(n["j"])(p,{filters:e.filters,onSetFilters:e.load},null,8,["filters","onSetFilters"])]),Object(n["j"])(g,{filters:e.filters,onSetFilters:e.load},null,8,["filters","onSetFilters"]),Object(n["g"])("div",l,[(Object(n["v"])(!0),Object(n["f"])(n["a"],null,Object(n["B"])(e.data,(function(e,t){return Object(n["v"])(),Object(n["f"])("div",{key:t,item:e,index:t,class:"category-card"},[Object(n["j"])(m,{deal:e},null,8,["deal"])],8,s)})),128))]),e.state===e.State.loading?(Object(n["v"])(),Object(n["f"])("div",u,[Object(n["j"])(h),Object(n["j"])(n["b"],{name:"fade"},{default:Object(n["L"])((function(){return[Object(n["M"])(Object(n["g"])("div",b,j,512),[[n["J"],e.state===e.State.loading]])]})),_:1})])):Object(n["e"])("",!0),e.state===e.State.failed?(Object(n["v"])(),Object(n["f"])("div",O,v)):Object(n["e"])("",!0),Object(n["j"])(y,{state:e.state,filters:e.filters,target:".categories",onSetFilters:e.load},null,8,["state","filters","onSetFilters"])])}c("a15b");var m=c("082d"),h=c("5557"),y=function(e){return Object(n["y"])("data-v-8277b850"),e=e(),Object(n["w"])(),e},S={class:"container"},k=y((function(){return Object(n["g"])("div",{class:"spinner"},null,-1)})),w=[k];function _(e,t){return Object(n["v"])(),Object(n["f"])("div",S,w)}c("68db");var A=c("6b0d"),C=c.n(A);const I={},F=C()(I,[["render",_],["__scopeId","data-v-8277b850"]]);var M=F,x={class:"category-name"},D={class:"price"},q={class:"normal-price"},J={class:"sale-price"};function L(e,t,c,a,r,i){return Object(n["v"])(),Object(n["f"])(n["a"],null,[Object(n["g"])("h3",x,Object(n["E"])(e.$filters.str_limit(e.item.title,18)),1),Object(n["g"])("div",D,[Object(n["g"])("span",q,Object(n["E"])(e.$filters.currency(e.item.normalPrice)),1),Object(n["g"])("span",J,Object(n["E"])(e.$filters.currency(e.item.salePrice)),1)]),Object(n["g"])("button",{onClick:t[0]||(t[0]=function(t){return e.showDetailScreen(e.item.dealID)}),class:"btn-outline"}," View More ")],64)}var E=c("eb59"),V=Object(n["l"])({name:"DealItem",props:{deal:{type:Object,required:!0}},setup:function(e){var t=Object(n["A"])(e.deal);return{item:t,showDetailScreen:E["d"]}}});c("388c");const $=C()(V,[["render",L],["__scopeId","data-v-6ba054fb"]]);var z=$,B=function(e){return Object(n["y"])("data-v-4673cf44"),e=e(),Object(n["w"])(),e},K=B((function(){return Object(n["g"])("span",null,"Filters",-1)})),N={class:"filter-body"},P={class:"filter-content"},T=B((function(){return Object(n["g"])("label",{for:"checkbox"},"On Sale",-1)})),U=Object(n["i"])(" Â  "),H={class:"icheck"},G=B((function(){return Object(n["g"])("span",{class:"checkmark"},null,-1)}));function Q(e,t,c,a,r,i){return Object(n["v"])(),Object(n["f"])("div",{class:Object(n["q"])(["filter",e.accordionClasses]),onClick:t[1]||(t[1]=function(){return e.toggleAccordion&&e.toggleAccordion.apply(e,arguments)})},[K,Object(n["g"])("div",N,[Object(n["g"])("div",P,[T,U,Object(n["g"])("label",H,[Object(n["M"])(Object(n["g"])("input",{"onUpdate:modelValue":t[0]||(t[0]=function(t){return e.checked=t}),type:"checkbox"},null,512),[[n["H"],e.checked]]),G])])])],2)}var R=c("5530"),W=(c("a9e3"),function(){var e=Object(n["A"])(!1),t=function(){e.value=!e.value},c=Object(n["c"])((function(){return{"is-closed":!e.value,active:e.value,"is-dark":!e.value}}));return{isOpen:e,accordionClasses:c,toggleAccordion:t}}),X=W,Y=Object(n["l"])({name:"Filter",emits:["set-filters"],props:{filters:{type:Object}},setup:function(e,t){var c=t.emit,a=Object(n["A"])(!1),r=X(),i=r.toggleAccordion,o=r.accordionClasses;return Object(n["K"])(a,(function(t){var n=Number(t);c("set-filters",Object(R["a"])(Object(R["a"])({},e.filters),{},{onSale:n,page:1}))})),{toggleAccordion:i,accordionClasses:o,checked:a}}});c("1ace");const Z=C()(Y,[["render",Q],["__scopeId","data-v-4673cf44"]]);var ee=Z;function te(e,t,c,a,r,i){return Object(n["M"])((Object(n["v"])(),Object(n["f"])("input",{type:"search","onUpdate:modelValue":t[0]||(t[0]=function(t){return e.query=t}),placeholder:"Search deals by name",name:"search",class:"search"},null,512)),[[n["I"],e.query]])}var ce=function(e){var t,c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return function(){for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];n&&!t&&e.apply(void 0,r),clearTimeout(t),t=setTimeout((function(){e.apply(void 0,r)}),c)}},ne=function(e,t,c){var a=Object(n["A"])(e),r=Object(n["k"])((function(e,n){return{get:function(){return e(),a.value},set:ce((function(e){a.value=e,n()}),t,c)}}));return r},ae=ne,re=Object(n["l"])({name:"Search",emits:["set-filters"],props:{filters:{type:Object}},setup:function(e,t){var c=t.emit,a=ae("",1e3,!1);return Object(n["K"])(a,(function(t){c("set-filters",Object(R["a"])(Object(R["a"])({},e.filters),{},{title:t,page:1}))})),{query:a}}});c("2fa3");const ie=C()(re,[["render",te],["__scopeId","data-v-1fffac6d"]]);var oe=ie,le={class:"load-more"};function se(e,t,c,a,r,i){return Object(n["M"])((Object(n["v"])(),Object(n["f"])("div",le,[Object(n["g"])("button",{onClick:t[0]||(t[0]=function(){return e.loadMore&&e.loadMore.apply(e,arguments)})},"Load More")],512)),[[n["J"],e.state!==e.State.loading]])}var ue=Object(n["l"])({name:"Infinite",props:{target:{type:String,required:!0},filters:{type:Object}},emits:["set-filters"],setup:function(e,t){var c=t.emit,n=Object(m["a"])(),a=n.state,r=n.data,i=function(){var t;c("set-filters",Object(R["a"])(Object(R["a"])({},e.filters),{},{page:(null===(t=e.filters)||void 0===t?void 0:t.page)+1}))};return{loadMore:i,State:h["a"],state:a,data:r}}});c("3e4e");const be=C()(ue,[["render",se],["__scopeId","data-v-3b7ebc11"]]);var fe=be,de=Object(n["l"])({components:{Spinner:M,DealItem:z,AppFilter:ee,SearchBox:oe,InfiniteLoading:fe},setup:function(){var e="deals",t=Object(m["a"])(),c=t.data,a=t.error,r=t.state,i=t.fetchDeals,o=Object(n["z"])({title:"",onSale:0,page:1});Object(n["t"])((function(){l(o)}));var l=function(t){o.title=t.title,o.onSale=t.onSale,o.page=t.page;var c=[];c.push("pageSize=90"),o.page&&c.push("pageNumber=".concat(o.page)),o.title&&c.push("title=".concat(o.title)),o.onSale&&c.push("onSale=".concat(o.onSale));var n="".concat(e,"?").concat(c.join("&"));i(n)};return{data:c,error:a,state:r,State:h["a"],load:l,filters:o}}});c("c608");const je=C()(de,[["render",g],["__scopeId","data-v-9ac2492e"]]);t["default"]=je},"2fa3":function(e,t,c){"use strict";c("93f6")},"315c":function(e,t,c){},"388c":function(e,t,c){"use strict";c("315c")},"3e4e":function(e,t,c){"use strict";c("d199")},"68db":function(e,t,c){"use strict";c("bde9")},"7c75":function(e,t,c){},"8e33":function(e,t,c){},"93f6":function(e,t,c){},a15b:function(e,t,c){"use strict";var n=c("23e7"),a=c("e330"),r=c("44ad"),i=c("fc6a"),o=c("a640"),l=a([].join),s=r!=Object,u=o("join",",");n({target:"Array",proto:!0,forced:s||!u},{join:function(e){return l(i(this),void 0===e?",":e)}})},bde9:function(e,t,c){},c608:function(e,t,c){"use strict";c("7c75")},d199:function(e,t,c){}}]);
//# sourceMappingURL=deals.24ffa2b9.js.map